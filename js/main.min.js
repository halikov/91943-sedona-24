var searchFormBtn=document.querySelector(".btn-hotel-search"),searchForm=document.querySelector(".search-form"),entrance=searchForm.querySelector('[name="entrance"]'),departure=searchForm.querySelector('[name="departure"]'),adult=searchForm.querySelector('[name="adult"]'),child=searchForm.querySelector('[name="child"]'),btnSearch=searchForm.querySelector('[type="submit"]'),isStorage=!0,storageEntrance="",storageDeparture="",storageAdult="",storageChild="";try{storageEntrance=localStorage.getItem("entrance"),storageDeparture=localStorage.getItem("departure"),storageAdult=localStorage.getItem("adult")}catch(e){isStorageSupport=!1}searchFormBtn.addEventListener("click",function(e){e.preventDefault(),searchForm.classList.contains("search-form-hide")?(searchForm.classList.remove("search-form-hide"),entrance.focus(),storageEntrance?(entrance.value=storageEntrance,departure.focus()):storageDeparture?(departure.value=storageDeparture,adult.focus()):storageAdult?(adult.value=storageAdult,child.focus()):storageChild?child.value=storageChild:entrance.focus()):(searchForm.classList.remove("search-form-error"),searchForm.classList.add("search-form-hide"))}),searchForm.addEventListener("submit",function(e){entrance.value&&departure.value&&adult.value?isStorageSupport&&localStorage.setItem("entrance",entrance.value):(e.preventDefault(),console.log("Нужно ввести даты въезда выезда и количество гостей!"),searchForm.classList.remove("search-form-error"),searchForm.offsetWidth=searchForm.offsetWidth,searchForm.classList.add("search-form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),searchForm.classList.remove("search-form-error"),searchForm.classList.add("search-form-hide"))});